pipeline {
    agent any  // Runs on any available Jenkins agent

    stages {
        // Stage 1: Checkout code from Git (simulated)
        stage('Checkout') {
            steps {
                echo "1. Fetching code from Git repository..."
                // In a real scenario: git 'https://github.com/your-repo.git'
                sh 'echo "Simulating Git checkout..."'
            }
        }

        // Stage 2: Build the application
        stage('Build') {
            steps {
                echo "2. Building the application..."
                // Example for Python (replace with Java/Node.js as needed)
                sh 'echo "Simulating build step..."'
                sh 'python --version || echo "Python not installed (simulation)"'
            }
        }

        // Stage 3: Run tests
        stage('Test') {
            steps {
                echo "3. Running tests..."
                // Simulated test execution
                sh 'echo "Running unit tests (simulated)..."'
                sh 'echo "Tests passed!"'  // Always passes in simulation
            }
        }

        // Stage 4: Deploy (simulated)
        stage('Deploy') {
            steps {
                echo "4. Deploying application..."
                // Simulated deployment (replace with real commands)
                sh 'echo "Deploying to staging environment (simulated)..."'
                sh 'echo "curl -X POST http://fake-deploy-api/deploy"'
            }
        }
    }

    post {
        always {
            echo "Pipeline completed!"
        }
        success {
            echo "üéâ Success! (Simulated deployment worked)"
        }
        failure {
            echo "‚ùå Pipeline failed (simulated)"
        }
    }
}
